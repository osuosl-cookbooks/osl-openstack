# This file is automatically generated by Chef
# Any changes will be overwritten

[DEFAULT]
auth_strategy = keystone
backup_ceph_chunk_size = 134217728
backup_ceph_conf = /etc/ceph/ceph.conf
backup_ceph_pool = <%= @backup_ceph_pool %>
backup_ceph_stripe_count = 0
backup_ceph_stripe_unit = 0
backup_ceph_user = <%= @backup_ceph_user %>
backup_driver = cinder.backup.drivers.ceph
control_exchange = cinder
enabled_backends = ceph,ceph_ssd
enable_v3_api = true
glance_api_servers = http://<%= @image_endpoint %>:9292
restore_discard_excess_bytes = true
state_path = /var/lib/cinder
transport_url = <%= @transport_url %>
volume_clear_size = 256

[cache]
memcache_servers = <%= @memcached_endpoint %>
enabled = true
backend = dogpile.cache.memcached

[ceph]
volume_driver = cinder.volume.drivers.rbd.RBDDriver
volume_backend_name = ceph
rbd_pool = <%= @block_rbd_pool %>
rbd_ceph_conf = /etc/ceph/ceph.conf
rbd_flatten_volume_from_snapshot = false
rbd_max_clone_depth = 5
rbd_store_chunk_size = 4
rados_connect_timeout = -1
rbd_user = <%= @rbd_user %>
rbd_secret_uuid = <%= @rbd_secret_uuid %>

[ceph_ssd]
volume_driver = cinder.volume.drivers.rbd.RBDDriver
volume_backend_name = ceph_ssd
rbd_pool = <%= @block_ssd_rbd_pool %>
rbd_ceph_conf = /etc/ceph/ceph.conf
rbd_flatten_volume_from_snapshot = false
rbd_max_clone_depth = 5
rbd_store_chunk_size = 4
rados_connect_timeout = -1
rbd_user = <%= @rbd_user %>
rbd_secret_uuid = <%= @rbd_secret_uuid %>

[database]
connection = <%= @database_connection %>

[keystone_authtoken]
auth_type = v3password
auth_url = https://<%= @auth_endpoint %>:5000/v3
memcached_servers = <%= @memcached_endpoint %>
password = <%= @service_pass %>
project_domain_name = Default
project_name = service
region_name = RegionOne
service_token_roles = admin
service_token_roles_required = True
user_domain_name = Default
username = cinder
www_authenticate_uri = https://<%= @auth_endpoint %>:5000/v3

[libvirt]
rbd_user = <%= @rbd_user %>
rbd_secret_uuid = <%= @rbd_secret_uuid %>

[nova]
auth_type = v3password
auth_url = https://<%= @auth_endpoint %>:5000/v3
password = <%= @compute_pass %>
project_domain_name = Default
project_name = service
region_name = <%= @region %>
user_domain_name = Default
username = nova

[oslo_concurrency]
lock_path = /var/lib/cinder/tmp

[oslo_messaging_notifications]
driver = messagingv2
