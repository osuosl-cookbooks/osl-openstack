# This file was generated by Chef
# Do NOT modify this file by hand!

# Millisecond sleep between ksm scans for critical pages
# Range: 10-10000 (default: 10)
KSM_SLEEP_MSEC=<%= @ksm['sleep_msec'] || 10 %>

# Millisecond sleep between ksm scans for 16Gb pages
# Range: 10-10000 (default: 10)
# KSM_SLEEP_MSEC_16GB is not used by ksmtuned

# Number of pages to boost at next scan
# Range: 0-unlimited (default: 300)
KSM_NPAGES_BOOST=<%= @ksm['npages_boost'] || 300 %>

# Number of pages to decay at next scan
# Range: 0-unlimited (default: -50)
KSM_NPAGES_DECAY=<%= @ksm['npages_decay'] || -50 %>

# Minimum number of pages to scan per interval
# Range: 0-unlimited (default: 64)
KSM_NPAGES_MIN=<%= @ksm['npages_min'] || 64 %>

# Maximum number of pages to scan per interval
# Range: 0-unlimited (default: 1250)
KSM_NPAGES_MAX=<%= @ksm['npages_max'] || 1250 %>

# Threshold as a percentage of total ram to activate ksm
# Range: 0-100 (default: 20)
KSM_THRES_COEF=<%= @ksm['thres_coef'] || 20 %>

# If total ram is less than this (in MB), ksm will not run
# Range: 0-unlimited (default: 2048)
KSM_THRES_CONST=<%= @ksm['thres_const'] || 2048 %>

# How often should ksm check the threshold in seconds
# Range: 1-unlimited (default: 60)
KSM_MONITOR_INTERVAL=<%= @ksm['monitor_interval'] || 60 %>

# Whether to merge pages across NUMA nodes (0 or 1)
# Set to 0 for NUMA systems where local memory access is preferred
KSM_MERGE_ACROSS_NODES=<%= @ksm['merge_across_nodes'] || 1 %>

# Maximum CPU percentage ksmd may use
# Range: 1-100 (default: unset, no limit)
<% if @ksm['max_cpu'] -%>
KSM_MAX_CPU=<%= @ksm['max_cpu'] %>
<% else -%>
# KSM_MAX_CPU=
<% end -%>
